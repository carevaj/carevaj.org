import { DOMParser } from "../../deps/dom.ts";
const parser = new DOMParser();
/** Convert an Document instance to a string */ export function documentToString(document) {
  const { doctype, documentElement } = document;
  if (!doctype) {
    return `<!DOCTYPE html>\n${documentElement?.outerHTML || ""}`;
  }
  return `<!DOCTYPE ${doctype.name}` + (doctype.publicId ? ` PUBLIC "${doctype.publicId}"` : "") + (!doctype.publicId && doctype.systemId ? " SYSTEM" : "") + (doctype.systemId ? ` "${doctype.systemId}"` : "") + `>\n${documentElement?.outerHTML}`;
}
/** Parse a string with HTML code and return a Document */ export function stringToDocument(string) {
  const document = parser.parseFromString(string, "text/html");
  if (!document) {
    throw new Error("Unable to parse the HTML code");
  }
  return document;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvbHVtZUB2Mi4yLjAvY29yZS91dGlscy9kb20udHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRE9NUGFyc2VyIH0gZnJvbSBcIi4uLy4uL2RlcHMvZG9tLnRzXCI7XG5cbmNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcblxuLyoqIENvbnZlcnQgYW4gRG9jdW1lbnQgaW5zdGFuY2UgdG8gYSBzdHJpbmcgKi9cbmV4cG9ydCBmdW5jdGlvbiBkb2N1bWVudFRvU3RyaW5nKGRvY3VtZW50OiBEb2N1bWVudCkge1xuICBjb25zdCB7IGRvY3R5cGUsIGRvY3VtZW50RWxlbWVudCB9ID0gZG9jdW1lbnQ7XG5cbiAgaWYgKCFkb2N0eXBlKSB7XG4gICAgcmV0dXJuIGA8IURPQ1RZUEUgaHRtbD5cXG4ke2RvY3VtZW50RWxlbWVudD8ub3V0ZXJIVE1MIHx8IFwiXCJ9YDtcbiAgfVxuXG4gIHJldHVybiBgPCFET0NUWVBFICR7ZG9jdHlwZS5uYW1lfWAgK1xuICAgIChkb2N0eXBlLnB1YmxpY0lkID8gYCBQVUJMSUMgXCIke2RvY3R5cGUucHVibGljSWR9XCJgIDogXCJcIikgK1xuICAgICghZG9jdHlwZS5wdWJsaWNJZCAmJiBkb2N0eXBlLnN5c3RlbUlkID8gXCIgU1lTVEVNXCIgOiBcIlwiKSArXG4gICAgKGRvY3R5cGUuc3lzdGVtSWQgPyBgIFwiJHtkb2N0eXBlLnN5c3RlbUlkfVwiYCA6IFwiXCIpICtcbiAgICBgPlxcbiR7ZG9jdW1lbnRFbGVtZW50Py5vdXRlckhUTUx9YDtcbn1cblxuLyoqIFBhcnNlIGEgc3RyaW5nIHdpdGggSFRNTCBjb2RlIGFuZCByZXR1cm4gYSBEb2N1bWVudCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ1RvRG9jdW1lbnQoc3RyaW5nOiBzdHJpbmcpOiBEb2N1bWVudCB7XG4gIGNvbnN0IGRvY3VtZW50ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhzdHJpbmcsIFwidGV4dC9odG1sXCIpO1xuXG4gIGlmICghZG9jdW1lbnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gcGFyc2UgdGhlIEhUTUwgY29kZVwiKTtcbiAgfVxuXG4gIHJldHVybiBkb2N1bWVudCBhcyB1bmtub3duIGFzIERvY3VtZW50O1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsU0FBUyxRQUFRLG9CQUFvQjtBQUU5QyxNQUFNLFNBQVMsSUFBSTtBQUVuQiw2Q0FBNkMsR0FDN0MsT0FBTyxTQUFTLGlCQUFpQixRQUFrQjtFQUNqRCxNQUFNLEVBQUUsT0FBTyxFQUFFLGVBQWUsRUFBRSxHQUFHO0VBRXJDLElBQUksQ0FBQyxTQUFTO0lBQ1osT0FBTyxDQUFDLGlCQUFpQixFQUFFLGlCQUFpQixhQUFhLEdBQUcsQ0FBQztFQUMvRDtFQUVBLE9BQU8sQ0FBQyxVQUFVLEVBQUUsUUFBUSxJQUFJLENBQUMsQ0FBQyxHQUNoQyxDQUFDLFFBQVEsUUFBUSxHQUFHLENBQUMsU0FBUyxFQUFFLFFBQVEsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFDeEQsQ0FBQyxDQUFDLFFBQVEsUUFBUSxJQUFJLFFBQVEsUUFBUSxHQUFHLFlBQVksRUFBRSxJQUN2RCxDQUFDLFFBQVEsUUFBUSxHQUFHLENBQUMsRUFBRSxFQUFFLFFBQVEsUUFBUSxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsSUFDakQsQ0FBQyxHQUFHLEVBQUUsaUJBQWlCLFVBQVUsQ0FBQztBQUN0QztBQUVBLHdEQUF3RCxHQUN4RCxPQUFPLFNBQVMsaUJBQWlCLE1BQWM7RUFDN0MsTUFBTSxXQUFXLE9BQU8sZUFBZSxDQUFDLFFBQVE7RUFFaEQsSUFBSSxDQUFDLFVBQVU7SUFDYixNQUFNLElBQUksTUFBTTtFQUNsQjtFQUVBLE9BQU87QUFDVCJ9