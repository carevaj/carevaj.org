import json from "../core/loaders/json.ts";
import { merge } from "../core/utils/object.ts";
// Default options
export const defaults = {
  extensions: [
    ".json",
    ".jsonc"
  ],
  pageSubExtension: ".page"
};
/** A plugin to add support for JSON files */ export default function(userOptions) {
  const options = merge(defaults, userOptions);
  return (site)=>{
    site.loadData(options.extensions, json);
    site.loadPages(options.extensions, {
      pageSubExtension: options.pageSubExtension,
      loader: json
    });
  };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvbHVtZUB2Mi4yLjAvcGx1Z2lucy9qc29uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqc29uIGZyb20gXCIuLi9jb3JlL2xvYWRlcnMvanNvbi50c1wiO1xuaW1wb3J0IHsgbWVyZ2UgfSBmcm9tIFwiLi4vY29yZS91dGlscy9vYmplY3QudHNcIjtcblxuaW1wb3J0IHR5cGUgU2l0ZSBmcm9tIFwiLi4vY29yZS9zaXRlLnRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9ucyB7XG4gIC8qKiBUaGUgbGlzdCBvZiBleHRlbnNpb25zIHRoaXMgcGx1Z2luIGFwcGxpZXMgdG8gKi9cbiAgZXh0ZW5zaW9ucz86IHN0cmluZ1tdO1xuXG4gIC8qKiBPcHRpb25hbCBzdWItZXh0ZW5zaW9uIGZvciBwYWdlIGZpbGVzICovXG4gIHBhZ2VTdWJFeHRlbnNpb24/OiBzdHJpbmc7XG59XG5cbi8vIERlZmF1bHQgb3B0aW9uc1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzOiBPcHRpb25zID0ge1xuICBleHRlbnNpb25zOiBbXCIuanNvblwiLCBcIi5qc29uY1wiXSxcbiAgcGFnZVN1YkV4dGVuc2lvbjogXCIucGFnZVwiLFxufTtcblxuLyoqIEEgcGx1Z2luIHRvIGFkZCBzdXBwb3J0IGZvciBKU09OIGZpbGVzICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodXNlck9wdGlvbnM/OiBPcHRpb25zKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZShkZWZhdWx0cywgdXNlck9wdGlvbnMpO1xuXG4gIHJldHVybiAoc2l0ZTogU2l0ZSkgPT4ge1xuICAgIHNpdGUubG9hZERhdGEob3B0aW9ucy5leHRlbnNpb25zLCBqc29uKTtcbiAgICBzaXRlLmxvYWRQYWdlcyhvcHRpb25zLmV4dGVuc2lvbnMsIHtcbiAgICAgIHBhZ2VTdWJFeHRlbnNpb246IG9wdGlvbnMucGFnZVN1YkV4dGVuc2lvbixcbiAgICAgIGxvYWRlcjoganNvbixcbiAgICB9KTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFVBQVUsMEJBQTBCO0FBQzNDLFNBQVMsS0FBSyxRQUFRLDBCQUEwQjtBQVloRCxrQkFBa0I7QUFDbEIsT0FBTyxNQUFNLFdBQW9CO0VBQy9CLFlBQVk7SUFBQztJQUFTO0dBQVM7RUFDL0Isa0JBQWtCO0FBQ3BCLEVBQUU7QUFFRiwyQ0FBMkMsR0FDM0MsZUFBZSxTQUFVLFdBQXFCO0VBQzVDLE1BQU0sVUFBVSxNQUFNLFVBQVU7RUFFaEMsT0FBTyxDQUFDO0lBQ04sS0FBSyxRQUFRLENBQUMsUUFBUSxVQUFVLEVBQUU7SUFDbEMsS0FBSyxTQUFTLENBQUMsUUFBUSxVQUFVLEVBQUU7TUFDakMsa0JBQWtCLFFBQVEsZ0JBQWdCO01BQzFDLFFBQVE7SUFDVjtFQUNGO0FBQ0YifQ==