import toml from "../core/loaders/toml.ts";
import { merge } from "../core/utils/object.ts";
// Default options
export const defaults = {
  extensions: [
    ".toml"
  ],
  pageSubExtension: ".page"
};
/** A plugin to add support for TOML files */ export default function(userOptions) {
  const options = merge(defaults, userOptions);
  return (site)=>{
    site.loadData(options.extensions, toml);
    site.loadPages(options.extensions, {
      loader: toml,
      pageSubExtension: options.pageSubExtension
    });
  };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvbHVtZUB2Mi4yLjAvcGx1Z2lucy90b21sLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0b21sIGZyb20gXCIuLi9jb3JlL2xvYWRlcnMvdG9tbC50c1wiO1xuaW1wb3J0IHsgbWVyZ2UgfSBmcm9tIFwiLi4vY29yZS91dGlscy9vYmplY3QudHNcIjtcblxuaW1wb3J0IHR5cGUgU2l0ZSBmcm9tIFwiLi4vY29yZS9zaXRlLnRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9ucyB7XG4gIC8qKiBUaGUgbGlzdCBvZiBleHRlbnNpb25zIHRoaXMgcGx1Z2luIGFwcGxpZXMgdG8gKi9cbiAgZXh0ZW5zaW9ucz86IHN0cmluZ1tdO1xuXG4gIC8qKiBPcHRpb25hbCBzdWItZXh0ZW5zaW9uIGZvciBwYWdlIGZpbGVzICovXG4gIHBhZ2VTdWJFeHRlbnNpb24/OiBzdHJpbmc7XG59XG5cbi8vIERlZmF1bHQgb3B0aW9uc1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRzOiBPcHRpb25zID0ge1xuICBleHRlbnNpb25zOiBbXCIudG9tbFwiXSxcbiAgcGFnZVN1YkV4dGVuc2lvbjogXCIucGFnZVwiLFxufTtcblxuLyoqIEEgcGx1Z2luIHRvIGFkZCBzdXBwb3J0IGZvciBUT01MIGZpbGVzICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAodXNlck9wdGlvbnM/OiBPcHRpb25zKSB7XG4gIGNvbnN0IG9wdGlvbnMgPSBtZXJnZShkZWZhdWx0cywgdXNlck9wdGlvbnMpO1xuXG4gIHJldHVybiAoc2l0ZTogU2l0ZSkgPT4ge1xuICAgIHNpdGUubG9hZERhdGEob3B0aW9ucy5leHRlbnNpb25zLCB0b21sKTtcbiAgICBzaXRlLmxvYWRQYWdlcyhvcHRpb25zLmV4dGVuc2lvbnMsIHtcbiAgICAgIGxvYWRlcjogdG9tbCxcbiAgICAgIHBhZ2VTdWJFeHRlbnNpb246IG9wdGlvbnMucGFnZVN1YkV4dGVuc2lvbixcbiAgICB9KTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFVBQVUsMEJBQTBCO0FBQzNDLFNBQVMsS0FBSyxRQUFRLDBCQUEwQjtBQVloRCxrQkFBa0I7QUFDbEIsT0FBTyxNQUFNLFdBQW9CO0VBQy9CLFlBQVk7SUFBQztHQUFRO0VBQ3JCLGtCQUFrQjtBQUNwQixFQUFFO0FBRUYsMkNBQTJDLEdBQzNDLGVBQWUsU0FBVSxXQUFxQjtFQUM1QyxNQUFNLFVBQVUsTUFBTSxVQUFVO0VBRWhDLE9BQU8sQ0FBQztJQUNOLEtBQUssUUFBUSxDQUFDLFFBQVEsVUFBVSxFQUFFO0lBQ2xDLEtBQUssU0FBUyxDQUFDLFFBQVEsVUFBVSxFQUFFO01BQ2pDLFFBQVE7TUFDUixrQkFBa0IsUUFBUSxnQkFBZ0I7SUFDNUM7RUFDRjtBQUNGIn0=