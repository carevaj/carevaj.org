import toc, { defaults } from "./toc/mod.ts";
import createSlugifier from "lume/core/slugifier.ts";
import "lume/types.ts";
export default function tocPlugin(userOptions = {}) {
  const options = {
    ...defaults,
    ...userOptions
  };
  const { slugify } = options;
  if (!slugify || typeof slugify !== "function") {
    options.slugify = createSlugifier(slugify);
  }
  return function(site) {
    site.hooks.addMarkdownItPlugin(toc, options);
  };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvbHVtZV9tYXJrZG93bl9wbHVnaW5zQHYwLjcuMC90b2MudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRvYywgeyBkZWZhdWx0cywgT3B0aW9ucyBhcyBUb2NPcHRpb25zIH0gZnJvbSBcIi4vdG9jL21vZC50c1wiO1xuaW1wb3J0IGNyZWF0ZVNsdWdpZmllciwge1xuICBPcHRpb25zIGFzIFNsdWdpZmllck9wdGlvbnMsXG59IGZyb20gXCJsdW1lL2NvcmUvc2x1Z2lmaWVyLnRzXCI7XG5pbXBvcnQgXCJsdW1lL3R5cGVzLnRzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3B0aW9ucyBleHRlbmRzIE9taXQ8VG9jT3B0aW9ucywgXCJzbHVnaWZ5XCI+IHtcbiAgc2x1Z2lmeTogUGFydGlhbDxTbHVnaWZpZXJPcHRpb25zPiB8ICgodGV4dDogc3RyaW5nKSA9PiBzdHJpbmcpIHwgdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB0b2NQbHVnaW4odXNlck9wdGlvbnM6IFBhcnRpYWw8T3B0aW9ucz4gPSB7fSkge1xuICBjb25zdCBvcHRpb25zID0geyAuLi5kZWZhdWx0cywgLi4udXNlck9wdGlvbnMgfTtcbiAgY29uc3QgeyBzbHVnaWZ5IH0gPSBvcHRpb25zO1xuXG4gIGlmICghc2x1Z2lmeSB8fCB0eXBlb2Ygc2x1Z2lmeSAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgb3B0aW9ucy5zbHVnaWZ5ID0gY3JlYXRlU2x1Z2lmaWVyKHNsdWdpZnkpO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChzaXRlOiBMdW1lLlNpdGUpIHtcbiAgICBzaXRlLmhvb2tzLmFkZE1hcmtkb3duSXRQbHVnaW4odG9jLCBvcHRpb25zKTtcbiAgfTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLE9BQU8sUUFBUSxRQUErQixlQUFlO0FBQ3BFLE9BQU8scUJBRUEseUJBQXlCO0FBQ2hDLE9BQU8sZ0JBQWdCO0FBTXZCLGVBQWUsU0FBUyxVQUFVLGNBQWdDLENBQUMsQ0FBQztFQUNsRSxNQUFNLFVBQVU7SUFBRSxHQUFHLFFBQVE7SUFBRSxHQUFHLFdBQVc7RUFBQztFQUM5QyxNQUFNLEVBQUUsT0FBTyxFQUFFLEdBQUc7RUFFcEIsSUFBSSxDQUFDLFdBQVcsT0FBTyxZQUFZLFlBQVk7SUFDN0MsUUFBUSxPQUFPLEdBQUcsZ0JBQWdCO0VBQ3BDO0VBRUEsT0FBTyxTQUFVLElBQWU7SUFDOUIsS0FBSyxLQUFLLENBQUMsbUJBQW1CLENBQUMsS0FBSztFQUN0QztBQUNGIn0=